<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>Bootstrap</title>

    <!-- Bootstrap -->
<!--    <link href="./css/bootstrap.min.css" rel="stylesheet">-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
<div id = "app">
        <button type="button" class="btn btn-default" aria-label="Left Align" v-show='flag==true' @click='switchChange'>
            <span class="glyphicon glyphicon-plus" aria-hidden="true" ></span>
        </button>
        <button type="button" class="btn btn-default" aria-label="Left Align" v-show='flag==false' @click='switchChange'>
            <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
        </button>

        <div v-if="seen" v-for="(item,i) in payOrderDetail">
            <h5>订单编号: {{item.orderNo}}</h5>
            <h5>商品编号: {{item.goodsNo}}</h5>
            <h5>商品名称: {{item.goodsName}}</h5>
            <h5>订单日期: {{item.orderTime}}</h5>
            <h5>采购数量: {{item.goodsNum}}</h5>
            <h5>采购单价：{{item.goodsPrice}} 元</h5>
            <h5>采购金额：{{item.goodsAmount}} 元</h5>
            <h5>本次付款金额：{{item.payAmount}} 元</h5>
            <hr>
        </div>

    <div>
        <span @click='switchChange'>change</span>
    </div>
</div>

<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<script src="https://cdn.bootcss.com/axios/0.19.0/axios.js"></script>
<script src="https://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<!--<script src="https://cdn.bootcss.com/layer/2.3/layer.js"></script>-->
<script type="text/javascript">
    const vm = new Vue({
        el:"#app",
        data:{
            flag:true,
            seen:false,
            domain: 'http://localhost:9090/',
            payOrderDetail:[]
        },
        mounted() {
            this.payPoRelationDetail();
        },
        methods:{
            switchChange(){
                this.flag = !this.flag;
                if(this.flag==true){
                    this.seen=false;
                }else if(this.flag==false){
                    this.seen = true;
                }
            },
            payPoRelationDetail() {
                const url = this.domain + "pay/payPoRelationDetail";
                axios.get(url, {
                    params: {
                        payId: 57
                    }
                })
                    .then((response) => {
                        console.log(response);
                        this.payOrderDetail = response.data.data.payPoRelationResDto;
                        console.log(this.payOrderDetail);
                    })
                    .catch((error) => {
                        console.log(error);
                    })
            }
        }
    })
</script>
</body>
</html>
