<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Bootstrap Table!</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.css">

</head>
<body>
<div id = "app">
    <table id="table" data-toggle="table">
        <thead>
        <tr>
            <th>订单编号</th>
            <th>商品编号</th>
            <th>商品名称</th>
            <th>订单日期</th>
            <th>采购数量</th>
            <th>采购单价</th>
            <th>销售价</th>
            <th>折扣率</th>
            <th>质押比例</th>
            <th>采购金额</th>
            <th>已收货金额</th>
            <th>本次付款金额</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(item,i) in payOrderDetail">
            <td data-sortable="true" >{{item.orderNo}}</td>
            <td>{{item.goodsNo}}</td>
            <td>{{item.goodsName}}</td>
            <td>{{item.orderTime}}</td>
            <td>{{item.goodsNum}}</td>
            <td>{{item.goodsPrice}}</td>
            <td>{{item.requiredSendPrice}}</td>
            <td>{{item.discountRateStr}}</td>
            <td>{{item.pledge}}</td>
            <td>{{item.goodsAmount}}</td>
            <td>{{item.arrivalAmount}}</td>
            <td>{{item.payAmount}}</td>
        </tr>
        </tbody>
    </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.2.2/vue.min.js"></script>
<script src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table-vue.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.15.4/dist/locale/bootstrap-table-zh-CN.min.js"></script>
<!--<script type="text/javascript">-->
<!--    $('#table').bootstrapTable({-->
<!--        pagination: true, //是否显示分页条-->
<!--        search: true,//默认false不显示表格右上方搜索框 ，可设为true，在搜索框内只要输入内容即开始搜索-->
<!--        pageSize: 25, //默认每页显示25条记录-->
<!--        pageList: [25, 30, 50, 100], //可以选择”每页显示10/25/50/100条记录，用于设置选择每页显示的条数-->
<!--        showRefresh: false, //默认为false隐藏刷新按钮，设为true显示-->
<!--        showToggle: true, //默认为false隐藏视图切换按钮，设为true显示-->
<!--        locale: "zh-CN",-->
<!--        striped: true //默认false，当设为true，则每行表格的背景会显示灰白相间-->
<!--    })-->
<!--</script>-->
<script type="text/javascript">
    new Vue({
        el:"#app",
        data:{
            flag:true,
            seen:false,
            domain: 'http://localhost:9090/',
            payOrderDetail:[]
        },
        beforeCreate(){
            const url = "http://localhost:9090/pay/payPoRelationDetail";
            axios.get(url, {
                params: {
                    payId: 64
                }
            })
                .then((response) => {
                    console.log(response);
                    this.payOrderDetail = response.data.data.payPoRelationResDto;
                    console.log(this.payOrderDetail);
                })
                .catch((error) => {
                    console.log(error);
                })

        },
        created(){
            console.log("页面初始化执行");
            // this.payPoRelationDetail();
        },
        mounted() {
            console.log("vue 对象创建后执行");
            // this.payPoRelationDetail();
        },
        methods:{
            payPoRelationDetail() {
                console.log(this.seen);
                const url = this.domain + "pay/payPoRelationDetail";
                axios.get(url, {
                    params: {
                        payId: 64
                    }
                })
                    .then((response) => {
                        console.log(response);
                        this.payOrderDetail = response.data.data.payPoRelationResDto;
                        console.log(this.payOrderDetail);
                    })
                    .catch((error) => {
                        console.log(error);
                    })
            }
        }
    })
</script>
</body>
</html>
